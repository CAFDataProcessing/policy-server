{    "$schema": "http://json-schema.org/draft-04/schema#",    "title": "API",    "description": "Create classification objects.",    "type": "object",    "properties":{        "name": {            "description": "Name of classification object",            "type": "string",            "minLength": 1        },        "description": {            "description": "Description of classification object",            "type": ["string","null"]        },        "type": {            "enum": ["collection_sequence", "collection", "condition", "lexicon", "lexicon_expression", "field_label"]        }    },    "required": ["type"],    "oneOf": [        {            "$ref": "#/definitions/collection_sequence"        },        {            "$ref": "#/definitions/collection"        },        {            "$ref": "#/definitions/condition"        },        {            "$ref": "#/definitions/lexicon"        },        {            "$ref": "#/definitions/field_label"        },        {            "$ref": "#/definitions/lexicon_expression"        }    ],    "definitions": {        "collection_sequence": {            "description": "The collection sequence object",            "type": "object",            "properties": {                "type": {                    "enum": ["collection_sequence"]                },                "additional": {                    "type": "object",                    "description": "additional parameters of collection sequence",                    "properties": {                        "collection_sequence_entries": {                            "description": "collection sequence entries",                            "type": "array",                            "items": {                                "$ref": "#/definitions/collection_sequence_entry"                            }                        },                        "default_collection_id": {                            "type": ["number","null"],                            "multipleOf": 1.0                        },                        "excluded_document_condition_id": {                            "type": ["number","null"],                            "multipleOf": 1.0                        },                        "full_condition_evaluation": {                            "type": "boolean"                        },                        "last_modified": {                            "type": ["string","null"]                        },                        "collection_count": {                            "type": ["number","null"]                        }                    }                }            },            "required": ["name"]        },        "collection_sequence_entry": {            "description": "collection sequence entry",            "type": "object",            "properties": {                "order": {                    "description": "Determines the order that collection sequence entries are run in.",                    "type": "number",                    "multipleOf": 1.0                },                "collection_ids": {                    "description": "Ids of collections",                    "type": "array",                    "items": {                        "type": "number",                        "multipleOf": 1.0                    }                },                "stop_on_match": {                    "description": "True to prevent further evaluation of other collection sequence entries if any collection in this entry has matched.",                    "type": "boolean"                }            },            "required": ["order"]        },        "collection": {            "description": "Document Collection object",            "type": "object",            "properties": {                "type": {                    "enum": ["collection"]                },                "additional": {                    "type": "object",                    "properties": {                        "condition": {                            "description": "condition of collection",                            "type": ["object","null"],                            "oneOf":[                                {                                    "$ref": "#/definitions/in_line_condition"                                },                                {                                    "type":"null"                                }                            ]                        },                        "policy_ids": {                            "description": "policy id array",                            "type": "array",                            "items": {                                "type": "number",                                "multipleOf": 1.0                            }                        }                    }                }            },            "required": ["name"]        },        "condition": {            "description": "Condition object",            "type": "object",            "properties": {                "type": {                    "enum": [ "condition" ]                },                "additional": {                    "type": "object",                    "properties": {                        "type": {                            "enum": [ "boolean", "regex", "date", "fragment", "lexicon", "not", "number", "string", "exists", "text", "entity", "field" ]                        },                        "is_fragment": {                            "type": "boolean"                        },                        "order": {                            "type": ["number","null"]                        },                        "notes": {                            "type": ["string","null"]                        },                        "target": {                            "type": ["string","null"]                        },                        "include_descendants": {                            "type": "boolean"                        }                    },                    "required": ["type"],                    "oneOf": [                        {                            "$ref": "#/definitions/boolean_condition"                        },                        {                            "$ref": "#/definitions/regex_condition"                        },                        {                            "$ref": "#/definitions/date_condition"                        },                        {                            "$ref": "#/definitions/exists_condition"                        },                        {                            "$ref": "#/definitions/fragment_condition"                        },                        {                            "$ref": "#/definitions/lexicon_condition"                        },                        {                            "$ref": "#/definitions/not_condition"                        },                        {                            "$ref": "#/definitions/number_condition"                        },                        {                            "$ref": "#/definitions/string_condition"                        },                        {                            "$ref": "#/definitions/text_condition"                        },                        {                            "$ref": "#/definitions/entity_condition"                        },                        {                            "$ref": "#/definitions/field_condition"                        }                    ]                }            },            "required": ["additional"]        },        "boolean_condition": {            "description": "Boolean condition",            "type": "object",            "properties": {                "type": {                    "enum": [ "boolean" ]                },                "operator": {                    "description": "boolean operator; AND or OR",                    "type": "string",                    "enum": [                        "and",                        "or"                    ]                },                "children": {                    "description": "Conditions the boolean applies to",                    "type": "array",                    "items": {                        "type": ["object","null"],                        "oneOf":[                            {                                "$ref": "#/definitions/condition"                            },                            {                                "type":"null"                            }                        ]                    }                }            },            "required": ["operator"]        },        "regex_condition": {            "description": "Regex condition",            "type": "object",            "properties": {                "type": {                    "enum": [ "regex" ]                },                "field": {                    "$ref": "#/definitions/field"                },                "value": {                    "description": "Value of condition",                    "type": "string",                    "minLength": 1                },                "language": {                    "description": "language of condition",                    "type": "string"                }            },            "required": ["field", "value"]        },        "date_condition": {            "description": "date condition",            "type": "object",            "properties": {                "type": {                    "enum": [ "date" ]                },                "field": {                    "type": ["object","null"],                    "oneOf":[                        {                            "$ref": "#/definitions/field"                        },                        {                            "type":"null"                        }                    ]                },                "value": {                    "description": "Date as string",                    "type": "string",                    "minLength": 1                },                "operator": {                    "enum": ["before", "after", "on"]                }            },            "required": ["operator","value"]        },        "exists_condition": {            "description": "Exists condition",            "type": "object",            "properties": {                "type": {                    "enum": [ "exists" ]                },                "field": {                    "$ref": "#/definitions/field"                }            },            "required": ["field"]        },        "fragment_condition": {            "description": "fragment condition",            "type": "object",            "properties": {                "type": {                    "enum": [ "fragment" ]                },                "value": {                    "type": "number",                    "multipleOf": 1.0                }            },            "required": ["value"]        },        "lexicon_condition": {            "description": "lexicon conditon",            "type": "object",            "properties": {                "type": {                    "enum": [ "lexicon" ]                },                "field": {                    "$ref": "#/definitions/field"                },                "value": {                    "type": "number",                    "multipleOf": 1.0                }            },            "required": ["field", "value"]        },        "not_condition": {            "description": "Not condition",            "type": "object",            "properties": {                "type": {                    "enum": ["not"]                },                "condition": {                    "type": ["object","null"],                    "oneOf":[                        {                            "$ref": "#/definitions/condition"                        },                        {                            "type":"null"                        }                    ]                }            }        },        "number_condition": {            "description": "number condition",            "type": "object",            "properties": {                "type": {                    "enum": [ "number" ]                },                "field": {                    "$ref": "#/definitions/field"                },                "value": {                    "description": "number value",                    "type": ["string","number"]                },                "operator": {                    "enum": ["gt", "lt", "eq"]                }            },            "required": ["field", "value", "operator"]        },        "string_condition": {            "description": "String condition",            "type": "object",            "properties": {                "type": {                    "enum": [ "string" ]                },                "field": {                    "$ref": "#/definitions/field"                },                "value": {                    "description": "value of string",                    "type": "string"                },                "operator": {                    "enum": ["is", "starts_with", "ends_with"]                }            },            "required": ["field", "value", "operator"]        },        "text_condition": {            "description": "Text condition",            "type": "object",            "properties": {                "type": {                    "enum": [ "text" ]                },                "field": {                    "$ref": "#/definitions/field"                },                "value": {                    "description": "value of text",                    "type": "string"                },                "language": {                    "description": "language of text",                    "type": "string"                }            },            "required": ["field", "value"]        },        "entity_condition":{            "description": "Entity condition",            "type":"object",            "properties":{                "type": {                    "enum": ["entity"]                },                "value":{                    "description": "value of entity",                    "type": "string"                }            },            "required": ["value"]        },        "field_condition":{            "description": "field condition object",            "type":"object",            "properties":{                "type":{                    "enum": ["field"]                },                "field":{                    "type":"string"                }            },            "required": ["field"]        },        "field": {            "description": "Field of condition",            "type": "string",            "minLength": 1        },        "lexicon": {            "description": "Lexicon object",            "type": "object",            "properties": {                "type": {                    "enum": ["lexicon"]                },                "additional": {                    "type": "object",                    "properties": {                        "lexicon_expressions": {                            "description": "Expressions lexicon contains",                            "type": ["array","null"],                            "items": {                                "type":["object","null"],                                "oneOf":[                                    {                                        "$ref": "#/definitions/inline_lexicon_expression"                                    },                                    {                                        "$ref": "#/definitions/lexicon_expression"                                    },                                    {                                        "type":"null"                                    }                                ]                            }                        }                    }                }            },            "required": ["name"]        },        "inline_lexicon_expression": {            "description": "lexicon expression contained in a lexicon",            "type": "object",            "properties": {                "type": {                    "enum": ["regex", "text"]                },                "expression": {                    "description": "actual expression",                    "type": "string",                    "minLength": 1                }            },            "required": ["type", "expression"]        },        "lexicon_expression": {            "description": "Lexicon expression",            "type": "object",            "properties": {                "type": {                    "enum": ["lexicon_expression"]                },                "additional": {                    "type": "object",                    "properties": {                        "lexicon_id": {                            "description": "Id of lexicon it refers to",                            "type": ["number", "null"],                            "multipleOf": 1.0                        },                        "type": {                            "enum": ["regex", "text"]                        },                        "expression": {                            "description": "expression",                            "type": "string",                            "minLength": 1                        }                    },                    "required": ["type", "expression"]                }            }        },        "field_label": {            "description": "field label object",            "type": "object",            "properties":{                "type": {                    "enum": ["field_label"]                },                "additional":{                    "type": "object",                    "properties":{                        "field_type":{                            "type":"string"                        },                        "fields":{                            "description":"fields this label applies too",                            "type":"array",                            "items":{                                "type":"string"                            }                        }                    },                    "required":["fields","field_type"]                }            }        },        "in_line_condition":{            "description": "Condition that belongs to another object. Doesn't require a name and description",            "type": "object",            "properties": {                "type": {                    "enum": [ "condition" ]                },                "name":{                    "type":["string","null"]                },                "description":{                    "type":["string","null"]                },                "additional": {                    "type": "object",                    "properties": {                        "type": {                            "description": "type of condition.",                            "enum": [ "boolean", "regex", "date", "fragment", "lexicon", "not", "number", "string", "exists", "text", "entity" ]                        },                        "is_fragment": {                            "type": ["boolean","null"]                        },                        "order": {                            "type": ["number","null"]                        },                        "notes": {                            "type": ["string","null"]                        },                        "target": {                            "type": "string"                        },                        "include_descendants": {                            "type": "boolean"                        }                    },                    "required": ["type"],                    "oneOf": [                        {                            "$ref": "#/definitions/boolean_condition"                        },                        {                            "$ref": "#/definitions/regex_condition"                        },                        {                            "$ref": "#/definitions/date_condition"                        },                        {                            "$ref": "#/definitions/exists_condition"                        },                        {                            "$ref": "#/definitions/fragment_condition"                        },                        {                            "$ref": "#/definitions/lexicon_condition"                        },                        {                            "$ref": "#/definitions/not_condition"                        },                        {                            "$ref": "#/definitions/number_condition"                        },                        {                            "$ref": "#/definitions/string_condition"                        },                        {                            "$ref": "#/definitions/text_condition"                        },                        {                            "$ref": "#/definitions/entity_condition"                        },                        {                            "$ref": "#/definitions/field_condition"                        }                    ]                }            },            "required": ["additional"]        }    }}